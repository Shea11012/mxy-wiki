---
tags: []
date created: 2021-11-30 21:22
date modified: 2023-03-06 05:32
title: 协议分层
---

## 七层模型

ISO 定义的标准 7 层 OSI 模型，自下而上
![Pasted image 20230306045324|200](attachments/Pasted%20image%2020230306045324.png)

### 应用层

通过应用程序间的交互来完成特定的网络应用，该层协议定义了应用之间的交互规则，通过不同的应用层协议为不同的网络应用提供服务。如：DNS、SMTP、HTTP 等

### 表示层

使通信的应用程序能够解释交环数据的含义，主要包括数据压缩、数据加密和数据描述

### 会话层

负责建立、管理和终止表示层实体之间的通信会话。提供数据交环的定界和同步功能，包括了建立检查点和恢复方案

### 传输层

为不同的网络应用提供通信服务，该服务不针对某一特定的应用，多种应用可以使用同一个传输层

### 网络层

主要负责选择合适的网间路由和交换节点，确保数据按时成功传送。网络层将传输层产生的数据报文封装成分组和包，向下传输到数据链路层。

### 数据链路层

在物理层和网络层之间，数据传输是在一段一段的链路上，这需要专门的链路层协议。在两个相邻节点之间传送数据时，数据链路层将网络层传下来的数据组成帧，在两个相邻节点之间传送帧，每一帧包括数据和必要的控制信息。通过控制信息可以知道一个帧的起止比特位，也能使接收端检测帧有无差错，发现差错可以丢弃这个帧，以避免继续占用网络资源

IPV4 和 IPV6 最大区别 ： IPV4 地址 32 位 IPV6 地址 128 位

## 四层模型（TCP/IP 模型）

OSI 七层模型是理论模型，实际使用中是用简化过的四层模型

![|200](attachments/Pasted%20image%2020230306051835.png)

### 应用层

将 OSI 模型里的传输层、表示层和应用层合并到一个应用层实现，通过不同的应用层协议为不同的应用提供服务。如：FTP、DNS、SMTP 、RPC、HTTP 等

### 传输层

对应 OSI 模型的传输层，有两个主要的传输层协议：TCP 和 UDP，TCP 面向连接保证数据传输可靠性；UDP 面向无连接数据报传输简单、快速

### 网际互联层

负责在不同或相同的网络中通信。IP 协议提供一个不可靠、无连接的数据报传送服务。该协议实现两个基本功能：寻址和分段。该层还有另外两个协议：IGMP（互联网组管理协议）和 ICMP（互联网控制报文协议）

### 网络接入层

对应 OSI 的物理层和数据链路层，负责监视数据在主机和网络之间的交换。TCP/IP 模型未真正描述这一层实现，而是由参与互连的各网络使用自己的物理层和数据链路层协议，然后与 TCP/IP 的网络接入层进行连接，因此具体的实现方法将随着网络类型的不同而有所差异。

## 端口号：

端口号是 16 位的非负整数（范围是 0 ~ 65535）。这组数字被划分为特定范围：

- 熟知端口号（0 ~ 1023）
- 注册端口号（ 1024 ~ 49151）
- 动态/私有端口号（49152 ~ 65535）