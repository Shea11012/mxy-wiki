---
date created: 2022-04-10 05:01
date modified: 2022-05-02 17:40
title: IO模型
---
## 同步阻塞
当应用 A 发起读取数据申请时，在内核数据没有准备好之前，应用 A 会一直处于等待数据状态，直到内核把数据准备好了交给应用 A 才结束

## 同步非阻塞
应用 A 发起读数据申请，如果内核数据没有准备好会返回一个错误，不会让应用 A 一直等待

## 多路复用
多路复用函数：
- select：使用固定长度的文件描述符集合，最大值为 1024
- poll：使用动态数组，以链表的形式组织，没有最大值限制，但还是会受到系统文件描述符限制
- epoll：使用红黑树监听文件描述符

应用通过调用多路复用函数可以同时监控多个 fd，多路复用函数监控的 fd 只要有任何一个数据状态准备就绪，多路复用函数就会返回可读状态，这是询问线程再去通知处理数据的线程，对应线程再发起 recvfrom 请求去读取数据。
## 信号驱动
进程安装一个信号处理函数，进程继续运行并不阻塞，当数据准备好时，进程会收到一个 SIGIO 信号，可以在信号处理函数中调用 IO 操作函数处理数据

## 异步
应用向内核发起一个 read 请求，内核收到请求后建立一个信号联系，当数据准备就绪，内核主动把数据从内核复制到用户空间，等所有操作完成之后，内核会发起一个通知告诉应用

参考：
- [聊聊 Linux 五种 IO 模型 - 简书 (jianshu.com)](https://www.jianshu.com/p/486b0965c296)
- [100% 弄明白 5 种 IO 模型 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/115912936)