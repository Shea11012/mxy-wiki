---
tags:
  - vim
date created: 2021-12-03 20:20
date modified: 2023-11-03 21:21
title: vim使用
updated: 2024-07-06
---

# vim 缓冲区

- 已载入缓冲区：`vim file1` 这个 file1 的内容将会被加载到缓冲区，这个缓冲区被称为**已载入的缓冲区**。
- 已激活缓冲区：如果在 vim 中保存 file1 文件，缓冲区的内容将会被同步到磁盘上。由于这个缓冲区也一直在一个窗口上显示，所以它也是一个**已激活的缓冲区**
- 隐藏缓冲区：通过 `:e file2` 加载了另一个文件，`file1` 将会变成一个**隐藏的缓冲区**，且 file2 变为已激活缓冲区
- 未命名缓冲区：是一种没有关联特定文件的缓冲区，这种缓冲区经常被插件使用。如 `:enew` 将会创建一个无名临时缓冲区。
- 已命名缓冲区：添加一些文本然后使用 `:w /tmp/foo` 将它写入磁盘，此时就变成了一个已命名缓冲区。

# motions

## up-down

`:h up-down-motions`

| motion | 描述 |
| ------ | ---- |
|k|上|
|j|下|
|-|向上并移动到第一个非空字符|
|+|向下并移动到第一个非空字符|
|gg|移动到第一行|
|G|移动到最后一行|

## left-right

`:h left-right-motions`

| motion | 描述 |
| ------- | -------------------------------- |  
| h | 左 |     
| l | 右 |     
| 0 | 移动到当前行的第一字符 |     
| ^ | 移动到当前行的第一个非空字符 |     
| \$ | 移动到行尾 |     
| f{char} | 向右移动，遇到{char}停止 |     
| F{char} | 向左移动，遇到{char}停止 |     
| t{char} | 向右移动，直到{char}停止 |     
| T{char} | 向左移动，直到{char}停止 |     
| ; | 重复最后一个 f、F、t、T |     
| , | 重复最后一个 f、F、t、T，方向相反 |    

## word

`:h word-motions`

| motion | 描述                             |
| ------ | -------------------------------- |
| w      | 向前移动一个单词                 |
| W      | 向前移动一个单词，忽视符号       |
| e      | 向前移动到一个单词的末尾         |
| E      | 向前移动到一个单词末尾，忽视符号 |
| b      | 向后移动一个单词                 |
| B      | 向后移动一个单词，忽视符号       |
| ge     | 向后移动到一个单词末尾           |
| gE     | 向后移动到一个单词末尾，忽视符号 |

# operator

`:h operator`

| operator | 描述                      |
| -------- | ------------------------- |
| d        | 删除                      |
| y        | 复制到寄存器中，使用 p 粘贴 |
| c        | 改变（删除并开始插入）    |
| \~       | 改变大小写                | 
| =        | 格式化                    |

>[!example]
>`cw` 改变一个单词
>`dt(` 删除直到 `(`
>`y5j` 复制 5 行

>[!note] 特殊操作
>`dd` 删除一行
>`D` 删除到一行末尾
>`yy` 复制一行
>`Y` 复制到一行末尾
>`cc` 改变当前行
>`C` 改变当前行到末尾
> `==` 格式化当前行

# text-object

`:h text-object`

>[!tip]
>i 只选中其中内容
>a 内容外的标签也会被选中

| text-object | 描述                                                       |
| ----------- | ---------------------------------------------------------- |
| iw、aw      | 单词                                                       |
| ip、ap      | 段落                                                       |
| is、as      | 句子                                                       |
| it、at      | 标签块，如 `<a>xxx</a>` |
| i{、a{      |    `{` 可以换成任何的 `(),[],"",'',<>`                                                        |

>[!example]
>`ci"` 改变 `""` 里面的内容
>`dap` 删除段落
> `=i{` 格式化 `{}` 里面的内容

# scrolling

`:h scrolling`

| scrolling         | 描述         |
| ----------------- | ------------ |
| <key>Ctrl-u</key> | 向上半个屏幕 |
| <key>Ctrl-d</key> | 向下半个屏幕 |
| <key>Ctrl-b</key> | 向上一个屏幕 |
| <key>Ctrl-f</key> | 向下一个屏幕 |

# inserting

`:h inserting`

| inserting | 描述                       |
| --------- | -------------------------- |
| i         | 在当前光标下插入           |
| I         | 在一个非空字符前插入       |
| a         | 在当前光标后追加           |
| A         | 在行末追加                 |
| o         | 在当前光标下新起一行并插入 |
| O         | 在当前光标上新起一行并插入                           |

# other

| other                   | 描述                       |
| ----------------------- | -------------------------- |
| [count]operator\|motion | 执行 count 次，如 `5d、5j` |
| s                       | 删除并插入                 |
| S                       | 删除行并插入               |
| x                       | 删除当前光标下的字符       |
| X                       | 删除光标前的字符           |
| u                       | 撤销                       |
| ctrl-r                  | 重做                       |
| `.`                     | 重复上一个动作             |
| ga                        |   显示当前光标下字符的 ASCII 值                         |

# range

`:h range`

| 命令             | 操作的行              |
| ---------------- | --------------------- |
| `1d`             | 第一行                |
| `$d`             | 最后一行              |
| `:1,$d` 和 `:%d` | 所有行                |
| `:.,5d`          | 当前行至第 5 行       |
| `:,+3d`          | 当前行与接下来的 3 行 |
| `23d 4`          | 删除行 23 24 25 26    |


> `, 和 ;` 表示范围。区别在于 `a,b` 的 b 是以当前行作为参考的。而 `a;b` 的 b 是以 a 行作为参考。如，当前光标在第 5 行，`:1,+1d` 表示的是第 1 行至当前行外加一行（等于第 6 行），而 `:1;+1d` 会删除第 1 行和第 2 行。

# 常用按键和组合

[[https://neovim.io/doc/user/quickref.html|neovim-quickref]]
`ctrl+o`: 跳转到上一个位置
`ctrl+i`：跳转到下一个位置
`[[`：移动到上一个代码
`]]`：移动到下一个代码
`[{`: 移动到当前代码块
`]}`: 移动到当前代码块